# ğŸ¯ nntype ì±„ë„ ì‹œìŠ¤í…œ êµ¬í˜„ ê³„íš

**í”„ë¡œì íŠ¸**: nntype ë¬´í•œ ìº”ë²„ìŠ¤ íƒ€ì´í”„ë¼ì´í„°  
**ê¸°ëŠ¥**: Logseq ìŠ¤íƒ€ì¼ ì±„ë„ë§ + Slack ìŠ¤íƒ€ì¼ íƒ€ì„ë¼ì¸ + ì»¤ë§¨ë“œ ê¸°ë°˜ ì¸í„°í˜ì´ìŠ¤  
**GitHub Issue**: #23  
**ìƒíƒœ**: ì„¤ê³„ ì™„ë£Œ, êµ¬í˜„ ì¤€ë¹„ ì¤‘ ğŸ“‹

---

## ğŸ¨ ì œí’ˆ ë¹„ì „

### í•µì‹¬ ê°œë…
- **ë¬´í•œ ìº”ë²„ìŠ¤**: ê¸°ì¡´ì˜ ììœ ë¡œìš´ í…ìŠ¤íŠ¸ ë°°ì¹˜ ì‹œìŠ¤í…œ ìœ ì§€
- **ì±„ë„ ì‹œìŠ¤í…œ**: í…ìŠ¤íŠ¸ë¥¼ ì£¼ì œë³„ë¡œ ë¶„ë¥˜í•˜ê³  ê´€ë¦¬í•˜ëŠ” Logseq ìŠ¤íƒ€ì¼ íƒœê¹…
- **íƒ€ì„ë¼ì¸ ë·°**: Slack ìŠ¤íƒ€ì¼ì˜ ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ì™€ ë¬´í•œ ìŠ¤í¬ë¡¤
- **ë¬¸ì„œ ìƒì„±**: íƒ€ì„ë¼ì¸ ì„ íƒì„ í†µí•œ ë“œë˜ê·¸&ë“œë¡­ ë¬¸ì„œ í¸ì§‘
- **ì‘ì—…ê³µê°„**: í•˜ë‚˜ì˜ ìº”ë²„ìŠ¤ì— ì—¬ëŸ¬ ë¬¸ì„œ, ì—¬ëŸ¬ ìº”ë²„ìŠ¤ë¥¼ ì‘ì—…ê³µê°„ìœ¼ë¡œ ê´€ë¦¬
- **ì»¤ë§¨ë“œ ì„¼í„°**: íƒ€ì´í”„ë¼ì´í„°ë¥¼ í†µí•œ ëª¨ë“  ê¸°ëŠ¥ì˜ í…ìŠ¤íŠ¸ ëª…ë ¹ì–´ ì œì–´
- **ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤**: ìŒì„± ë…¹ìŒê³¼ ì‹¤ì‹œê°„ ìº”ë²„ìŠ¤ ì—°ë™, ì‹œìŠ¤í…œ ì˜¤ë””ì˜¤ ìº¡ì²˜
- **ë©€í‹°ë¯¸ë””ì–´**: ìœ íŠœë¸Œ, ì˜¤ë””ì˜¤, ì´ë¯¸ì§€ë¥¼ ìº”ë²„ìŠ¤ì— ì„ë² ë“œí•˜ê³  í¬ê¸° í¸ì§‘

### ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤
```
1. ìº”ë²„ìŠ¤ì—ì„œ ììœ ë¡­ê²Œ í…ìŠ¤íŠ¸ ì‘ì„± (+#work +#urgent íƒœê¹…)
2. ğŸ™ï¸ ìŒì„± ë…¹ìŒ ì‹œì‘ â†’ ì‹¤ì‹œê°„ìœ¼ë¡œ íƒ€ì´í•‘í•˜ë©´ì„œ ì˜¤ë””ì˜¤ ì‹±í¬
3. ë¡œê³  í´ë¦­ â†’ ì±„ë„ íŒ¨ë„ ì—´ê¸° â†’ íƒ€ì„ë¼ì¸ìœ¼ë¡œ ì‘ì—… íˆìŠ¤í† ë¦¬ í™•ì¸
4. Create Document â†’ ë©”ì‹œì§€ ì„ íƒ â†’ ë“œë˜ê·¸&ë“œë¡­ìœ¼ë¡œ ë¬¸ì„œ êµ¬ì„±
5. !!export pdf â†’ ë¬¸ì„œë¥¼ PDFë¡œ ë‚´ë³´ë‚´ê¸° (ì˜¤ë””ì˜¤ íƒ€ì„ë¼ì¸ í¬í•¨)
6. !!ws switch personal â†’ ê°œì¸ ì‘ì—…ê³µê°„ìœ¼ë¡œ ì „í™˜
7. ğŸ–¥ï¸ ë°ìŠ¤í¬í†±: ì‹œìŠ¤í…œ ì˜¤ë””ì˜¤ + ë§ˆì´í¬ ë™ì‹œ ë…¹ìŒìœ¼ë¡œ í™”ë©´ ê³µìœ  ì„¸ì…˜ ìº¡ì²˜
8. ğŸ“º !!youtube https://youtu.be/abc123 â†’ ìœ íŠœë¸Œ í”Œë ˆì´ì–´ê°€ íƒ€ì´í”„ë¼ì´í„° í•˜ë‹¨ì— í”Œë¡œíŒ…
9. ğŸ–¼ï¸ ì´ë¯¸ì§€ ë“œë˜ê·¸&ë“œë¡­ìœ¼ë¡œ ìº”ë²„ìŠ¤ì— ì¶”ê°€ â†’ ììœ ë¡­ê²Œ ìœ„ì¹˜ ë° í¬ê¸° ì¡°ì ˆ

### ì¶”ê°€ ì‹œë‚˜ë¦¬ì˜¤ (ê·¸ë¦¬ê¸° & ëª¨ë°”ì¼)
10. ğŸ¨ >draw start pen red 3 â†’ íœ ëª¨ë“œë¡œ ì „í™˜ â†’ Apple Pencilë¡œ ì••ë ¥ ê°ì§€ ë“œë¡œì‰
11. ğŸ“ iPad: ë‘ ì†ê°€ë½ íŒ¬ìœ¼ë¡œ ìº”ë²„ìŠ¤ ì´ë™ â†’ í•€ì¹˜ ì¤Œ â†’ í•œ ì†ê°€ë½ ë“œë¡œì‰
12. ğŸ“± ëª¨ë°”ì¼: >channel write #work â†’ ì „ì²´í™”ë©´ ì±„ë„ ë©”ì‹œì§€ ì‘ì„± ëª¨ë“œ
13. ğŸ–Šï¸ í•˜ì´ë¼ì´í„° ëª¨ë“œ â†’ í…ìŠ¤íŠ¸ ìœ„ì— ë°˜íˆ¬ëª… ë§ˆí‚¹ â†’ ìë™ìœ¼ë¡œ ë°±ë§í¬ ìƒì„±
14. ğŸµ !!audio record â†’ íšŒì˜ ì¤‘ ë§ˆì´í¬ + ì‹œìŠ¤í…œ ì˜¤ë””ì˜¤ ë…¹ìŒ â†’ ì‹¤ì‹œê°„ ë©”ëª¨ì™€ ë™ê¸°í™”
15. ğŸ¬ í™”ìƒíšŒì˜ ì¤‘ YouTube ìë£Œ ê³µìœ  â†’ í”Œë¡œíŒ… í”Œë ˆì´ì–´ë¡œ ë™ì‹œ ì‹œì²­í•˜ë©° ë…¸íŠ¸ ì‘ì„±
```

---

## ğŸ“Š ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ë°ì´í„° ëª¨ë¸

```typescript
// ê¸°ì¡´ TextObject í™•ì¥ (í•˜ìœ„ í˜¸í™˜)
interface TextObjectType {
  // === ê¸°ì¡´ í•„ë“œë“¤ (100% ë³´ì¡´) ===
  id: number;
  type: 'text';
  content: string;
  x: number;
  y: number;
  scale: number;
  fontSize: number;
  isAIResponse?: boolean;
  color?: string;
  
  // === ìƒˆ ë©”íƒ€ë°ì´í„° (ì„ íƒì ) ===
  _metadata?: {
    createdAt: string;     // ISO timestamp
    updatedAt: string;     // ìˆ˜ì • ì‹œê°„
    channelIds: string[];  // ì†Œì† ì±„ë„ë“¤ (["inbox", "work", "urgent"])
  };
}

// ì±„ë„ ì‹œìŠ¤í…œ
interface Channel {
  id: string;              // "inbox", "work", "project-a"
  name: string;            // "Inbox", "Work", "Project A"
  messageCount: number;    // ì†Œì† ë©”ì‹œì§€ ê°œìˆ˜
  lastActivity: string;    // ë§ˆì§€ë§‰ í™œë™ ì‹œê°„
  type: 'default' | 'personal'; // ê¸°ë³¸/ê°œì¸ ì±„ë„
}

interface ChannelMessage {
  id: string;              // UUID
  textObjectId: number;    // ì—°ê²°ëœ TextObject ID
  channelIds: string[];    // í¬í•¨ëœ ì±„ë„ë“¤ (ë‹¤ì¤‘ ì±„ë„ ì§€ì›)
  content: string;         // í…ìŠ¤íŠ¸ ë‚´ìš© ìŠ¤ëƒ…ìƒ·
  timestamp: string;       // ìƒì„± ì‹œê°„
  isFromCanvas: boolean;   // ìº”ë²„ìŠ¤ì—ì„œ ìƒì„±ëœ ë©”ì‹œì§€ì¸ì§€
}

// ì‘ì—…ê³µê°„ ì‹œìŠ¤í…œ
interface Workspace {
  id: string;              // Workspace UUID
  name: string;            // "í”„ë¡œì íŠ¸ A", "ê°œì¸ ë©”ëª¨"
  canvasId: string;        // ì—°ê²°ëœ ìº”ë²„ìŠ¤ ID
  createdAt: string;       // ìƒì„± ì‹œê°„
  lastAccessed: string;    // ë§ˆì§€ë§‰ ì ‘ê·¼ ì‹œê°„
  documentIds: string[];   // ì†Œì† ë¬¸ì„œë“¤
  metadata: {
    description?: string;  // ì‘ì—…ê³µê°„ ì„¤ëª…
    color?: string;        // ìƒ‰ìƒ í…Œë§ˆ
    isDefault: boolean;    // ê¸°ë³¸ ì‘ì—…ê³µê°„ ì—¬ë¶€
  };
}

// ë¬¸ì„œ ì‹œìŠ¤í…œ
interface Document {
  id: string;              // UUID
  workspaceId: string;     // ì†Œì† ì‘ì—…ê³µê°„ ID
  canvasId: string;        // ì—°ê²°ëœ ìº”ë²„ìŠ¤ ID
  title: string;           // ë¬¸ì„œ ì œëª©
  createdAt: string;       // ìƒì„± ì‹œê°„
  updatedAt: string;       // ìˆ˜ì • ì‹œê°„
  sourceMessageIds: string[];  // ì›ë³¸ ë©”ì‹œì§€ IDë“¤
  content: DocumentBlock[];    // ë¬¸ì„œ ë¸”ë¡ë“¤
  metadata: {
    channelIds: string[];      // ì—°ê´€ ì±„ë„ë“¤
    tags: string[];            // í•´ì‹œíƒœê·¸ë“¤
    wordCount: number;         // ë‹¨ì–´ ìˆ˜
    parentCanvas: string;      // ë¶€ëª¨ ìº”ë²„ìŠ¤ ì°¸ì¡°
  };
}

interface DocumentBlock {
  id: string;              // ë¸”ë¡ UUID
  type: 'text' | 'heading' | 'divider' | 'quote';
  content: string;         // ë¸”ë¡ ë‚´ìš©
  sourceMessageId?: string;  // ì›ë³¸ ë©”ì‹œì§€ (ìˆëŠ” ê²½ìš°)
  order: number;           // ë¸”ë¡ ìˆœì„œ
  isEditable: boolean;     // í¸ì§‘ ê°€ëŠ¥ ì—¬ë¶€
}

// ë°±ë§í¬ ì‹œìŠ¤í…œ
interface BackLink {
  id: string;              // ë°±ë§í¬ UUID
  type: 'canvas-to-doc' | 'doc-to-canvas' | 'doc-to-doc';
  sourceId: string;        // ì†ŒìŠ¤ ID
  targetId: string;        // íƒ€ê²Ÿ ID
  sourceType: 'text' | 'document' | 'message';
  targetType: 'text' | 'document' | 'message';
  context?: string;        // ì—°ê²° ì»¨í…ìŠ¤íŠ¸
  createdAt: string;       // ìƒì„± ì‹œê°„
  relationship: 'source' | 'reference' | 'mention';
}

// ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ
interface AudioRecording {
  id: string;              // ë…¹ìŒ UUID
  workspaceId: string;     // ì†Œì† ì‘ì—…ê³µê°„
  startTime: string;       // ë…¹ìŒ ì‹œì‘ ì‹œê°„ (ISO)
  duration: number;        // ë…¹ìŒ ê¸¸ì´ (ì´ˆ)
  audioBlob?: Blob;        // ì˜¤ë””ì˜¤ ë°ì´í„° (ì›¹)
  audioPath?: string;      // ì˜¤ë””ì˜¤ íŒŒì¼ ê²½ë¡œ (ë°ìŠ¤í¬í†±)
  metadata: {
    sampleRate: number;    // ìƒ˜í”Œë§ ë ˆì´íŠ¸ (44100, 48000)
    channels: number;      // ì±„ë„ ìˆ˜ (1=ëª¨ë…¸, 2=ìŠ¤í…Œë ˆì˜¤)
    format: string;        // ì˜¤ë””ì˜¤ í¬ë§· (webm, mp3, wav)
    hasSystemAudio: boolean; // ì‹œìŠ¤í…œ ì˜¤ë””ì˜¤ í¬í•¨ ì—¬ë¶€
    hasMicrophone: boolean;  // ë§ˆì´í¬ ì˜¤ë””ì˜¤ í¬í•¨ ì—¬ë¶€
  };
  syncEvents: AudioSyncEvent[]; // ìº”ë²„ìŠ¤ ë™ê¸°í™” ì´ë²¤íŠ¸ë“¤
}

interface AudioSyncEvent {
  id: string;              // ì´ë²¤íŠ¸ UUID
  recordingId: string;     // ì†Œì† ë…¹ìŒ ID
  timestamp: number;       // ë…¹ìŒ ì‹œì‘ ê¸°ì¤€ ì‹œê°„ (ì´ˆ)
  eventType: 'text_create' | 'text_edit' | 'focus_change' | 'channel_switch';
  relatedObjectId?: number | string; // ì—°ê´€ëœ ê°ì²´ ID
  snapshot?: {
    textContent?: string;  // í…ìŠ¤íŠ¸ ë‚´ìš© ìŠ¤ëƒ…ìƒ·
    position?: { x: number; y: number }; // ìº”ë²„ìŠ¤ ìœ„ì¹˜
    channelId?: string;    // í™œì„± ì±„ë„
  };
}

interface AudioPlaybackState {
  recordingId: string;
  currentTime: number;     // í˜„ì¬ ì¬ìƒ ì‹œê°„ (ì´ˆ)
  isPlaying: boolean;      // ì¬ìƒ ì¤‘ ì—¬ë¶€
  playbackRate: number;    // ì¬ìƒ ì†ë„ (0.5, 1.0, 1.5, 2.0)
  syncedEvents: AudioSyncEvent[]; // í˜„ì¬ ì‹œê°„ì˜ ë™ê¸°í™” ì´ë²¤íŠ¸ë“¤
}

// ë©€í‹°ë¯¸ë””ì–´ ê°ì²´ ì‹œìŠ¤í…œ
interface MediaObject extends CanvasObject {
  id: number;              // ê°ì²´ ID
  type: 'youtube' | 'audio' | 'image';
  x: number;               // ìº”ë²„ìŠ¤ ìœ„ì¹˜ (ì›”ë“œ ì¢Œí‘œ)
  y: number;
  width: number;           // í¬ê¸°
  height: number;
  scale: number;           // ìŠ¤ì¼€ì¼
  metadata: {
    createdAt: string;     // ìƒì„± ì‹œê°„
    channelIds: string[];  // ì†Œì† ì±„ë„ë“¤
  };
}

interface YouTubeObject extends MediaObject {
  type: 'youtube';
  videoId: string;         // ìœ íŠœë¸Œ ë¹„ë””ì˜¤ ID
  startTime?: number;      // ì‹œì‘ ì‹œê°„ (ì´ˆ)
  endTime?: number;        // ì¢…ë£Œ ì‹œê°„ (ì´ˆ)
  isFloating: boolean;     // í”Œë¡œíŒ… ëª¨ë“œ (íƒ€ì´í”„ë¼ì´í„° í•˜ë‹¨ ê³ ì •)
  playbackState?: {
    currentTime: number;   // í˜„ì¬ ì¬ìƒ ì‹œê°„
    isPlaying: boolean;    // ì¬ìƒ ì¤‘ ì—¬ë¶€
    volume: number;        // ë³¼ë¥¨ (0-1)
  };
}

interface AudioObject extends MediaObject {
  type: 'audio';
  audioBlob?: Blob;        // ì˜¤ë””ì˜¤ ë°ì´í„° (ì›¹)
  audioPath?: string;      // ì˜¤ë””ì˜¤ íŒŒì¼ ê²½ë¡œ (ë°ìŠ¤í¬í†±)
  fileName: string;        // ì›ë³¸ íŒŒì¼ëª…
  duration: number;        // ê¸¸ì´ (ì´ˆ)
  format: string;          // íŒŒì¼ í¬ë§· (mp3, wav, etc.)
}

interface ImageObject extends MediaObject {
  type: 'image';
  imageBlob?: Blob;        // ì´ë¯¸ì§€ ë°ì´í„° (ì›¹)
  imagePath?: string;      // ì´ë¯¸ì§€ íŒŒì¼ ê²½ë¡œ (ë°ìŠ¤í¬í†±)
  fileName: string;        // ì›ë³¸ íŒŒì¼ëª…
  naturalWidth: number;    // ì›ë³¸ ì´ë¯¸ì§€ í¬ê¸°
  naturalHeight: number;
  format: string;          // ì´ë¯¸ì§€ í¬ë§· (jpg, png, webp, etc.)
}

// ê·¸ë¦¬ê¸° ê¸°ëŠ¥ì„ ìœ„í•œ ê°ì²´
interface DrawingObject extends CanvasObject {
  type: 'drawing';
  id: string;
  strokes: DrawingStroke[];
  bounds: { x: number; y: number; width: number; height: number };
  style: DrawingStyle;
  createdAt: string;
  lastModified: string;
}

interface DrawingStroke {
  id: string;
  points: DrawingPoint[];
  style: StrokeStyle;
  timestamp: number;
}

interface DrawingPoint {
  x: number;
  y: number;
  pressure?: number; // iPad íœ ì••ë ¥ ì§€ì›
  timestamp: number;
}

interface StrokeStyle {
  color: string;
  width: number;
  opacity: number;
  tool: 'pen' | 'marker' | 'eraser' | 'highlighter';
}

interface DrawingStyle {
  backgroundColor?: string;
  opacity: number;
  blendMode: 'normal' | 'multiply' | 'overlay';
}

// í”Œë¡œíŒ… ë¯¸ë””ì–´ ìƒíƒœ
interface FloatingMediaState {
  activeMedia: YouTubeObject | AudioObject | null;
  position: 'bottom-left' | 'bottom-right' | 'bottom-center';
  isMinimized: boolean;
  isDocked: boolean;       // íƒ€ì´í”„ë¼ì´í„°ì— ë„í‚¹ ì—¬ë¶€
}

// í„°ì¹˜ ì¸í„°í˜ì´ìŠ¤ ì§€ì› (iPad/ëª¨ë°”ì¼)
interface TouchState {
  isTouch: boolean;        // í„°ì¹˜ ë””ë°”ì´ìŠ¤ ì—¬ë¶€
  currentTouches: Map<number, TouchPoint>;  // í˜„ì¬ í„°ì¹˜ í¬ì¸íŠ¸ë“¤
  gestureState: GestureState | null;        // ì œìŠ¤ì²˜ ì¸ì‹ ìƒíƒœ
  virtualKeyboard: VirtualKeyboardState;    // ê°€ìƒ í‚¤ë³´ë“œ ìƒíƒœ
}

interface TouchPoint {
  id: number;
  x: number;
  y: number;
  worldX: number;
  worldY: number;
  pressure?: number;       // íœ ì••ë ¥ (Apple Pencil)
  timestamp: number;
  type: 'finger' | 'pencil' | 'stylus';
}

interface GestureState {
  type: 'pan' | 'pinch' | 'draw' | 'select' | 'text-input';
  startTime: number;
  lastUpdateTime: number;
  data: any;              // ì œìŠ¤ì²˜ë³„ íŠ¹í™” ë°ì´í„°
}

interface VirtualKeyboardState {
  isVisible: boolean;
  height: number;         // í‚¤ë³´ë“œ ë†’ì´ (í”½ì…€)
  adjustedViewport: boolean;  // ë·°í¬íŠ¸ ì¡°ì • ì™„ë£Œ ì—¬ë¶€
}

// ëª¨ë°”ì¼ ì „ìš© ì±„ë„ ë©”ì‹œì§€ ì‘ì„± ì¸í„°í˜ì´ìŠ¤
interface MobileChannelWriter {
  isActive: boolean;
  channelId: string;
  draftMessage: string;
  position: { x: number; y: number };  // í™”ë©´ ì¢Œí‘œ
  isFullscreen: boolean;   // ì „ì²´í™”ë©´ í¸ì§‘ ëª¨ë“œ
  suggestions: string[];   // ìë™ì™„ì„± ì œì•ˆ
}

// ìº”ë²„ìŠ¤ ëª¨ë“œ í™•ì¥ (ê·¸ë¦¬ê¸° ëª¨ë“œ ì¶”ê°€)
enum CanvasMode {
  Typography = 'typography',
  Link = 'link',
  Select = 'select',
  Drawing = 'drawing',
  ChannelWrite = 'channel-write'
}

// ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ í™•ì¥
interface SessionData {
  // === ê¸°ì¡´ í•„ë“œë“¤ ìœ ì§€ ===
  version: string;
  timestamp: number;
  canvasObjects: CanvasObjectType[];
  // ... ê¸°ì¡´ í•„ë“œë“¤ ...
  
  // === ìƒˆ ì‹œìŠ¤í…œ ë°ì´í„° ===
  workspaces?: Workspace[];
  currentWorkspaceId?: string;
  channels?: Channel[];
  channelMessages?: ChannelMessage[];
  activeChannel?: string;
  documents?: Document[];
  backlinks?: BackLink[];
  
  // === ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ===
  audioRecordings?: AudioRecording[];
  currentRecording?: string;           // í˜„ì¬ í™œì„± ë…¹ìŒ ID
  audioPlaybackState?: AudioPlaybackState;
}
```

---

## ğŸ® í†µí•© ì»¤ë§¨ë“œ ì‹œìŠ¤í…œ

### í•µì‹¬ ì² í•™: íƒ€ì´í”„ë¼ì´í„° = ì»¤ë§¨ë“œ ì„¼í„°
ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ëŠ¥ì„ íƒ€ì´í”„ë¼ì´í„° ì…ë ¥ë°•ìŠ¤ë¥¼ í†µí•œ í…ìŠ¤íŠ¸ ì»¤ë§¨ë“œë¡œ ì œì–´. Vim ìŠ¤íƒ€ì¼ ì»¤ë§¨ë“œ ëª¨ë“œ + Obsidian ì»¤ë§¨ë“œ íŒ”ë ˆíŠ¸ì˜ ê²°í•©.

### ì»¤ë§¨ë“œ ì ‘ë‘ì‚¬

| ì ‘ë‘ì‚¬ | ì¹´í…Œê³ ë¦¬ | ì˜ˆì‹œ | ì„¤ëª… |
|--------|----------|------|------|
| `!!` | ì‹œìŠ¤í…œ ì œì–´ | `!!doc create`, `!!ws switch` | ë¬¸ì„œ, ì‘ì—…ê³µê°„, ë‚´ë³´ë‚´ê¸° |
| `>` | ìº”ë²„ìŠ¤ ì¡°ì‘ | `>select all`, `>move right` | ê°ì²´ ì„ íƒ, ì´ë™, í¬ê¸°ì¡°ì ˆ |
| `+#` | ì±„ë„ ì¶”ê°€ | `+#work +#urgent` | í˜„ì¬ í…ìŠ¤íŠ¸ë¥¼ ì±„ë„ì— ì¶”ê°€ |
| `-#` | ì±„ë„ ì œê±° | `-#work`, `-#all` | ì±„ë„ì—ì„œ ì œê±° |
| `@` | ì»¨í…ìŠ¤íŠ¸ ì‘ì—… | `@find keyword`, `@filter` | ê²€ìƒ‰, í•„í„°ë§, ì •ë ¬ |

### ì£¼ìš” ì»¤ë§¨ë“œ ì˜ˆì‹œ

```bash
# ì‹œìŠ¤í…œ ì»¤ë§¨ë“œ
!!doc create [title] [template]     # ìƒˆ ë¬¸ì„œ ìƒì„±
!!doc list [workspace] [filter]     # ë¬¸ì„œ ëª©ë¡ ì¡°íšŒ
!!ws create [name] [description]    # ì‘ì—…ê³µê°„ ìƒì„±
!!ws switch [name|id]               # ì‘ì—…ê³µê°„ ì „í™˜
!!export [format] [selection]       # ë‚´ë³´ë‚´ê¸°

# ìº”ë²„ìŠ¤ ì»¤ë§¨ë“œ  
>select [type] [filter]             # ê°ì²´ ì„ íƒ
>move [direction] [distance]        # ê°ì²´ ì´ë™
>focus [target]                     # ê°ì²´ë¡œ í¬ì»¤ìŠ¤ ì´ë™
>zoom [level|fit|selection]         # ì¤Œ ì¡°ì‘

# ì±„ë„ ì»¤ë§¨ë“œ
+#inbox                            # Inbox ì±„ë„ì— ì¶”ê°€
+#work +#urgent                    # ì—¬ëŸ¬ ì±„ë„ ë™ì‹œ ì¶”ê°€
-#all                              # ëª¨ë“  ì±„ë„ì—ì„œ ì œê±°

# ì»¨í…ìŠ¤íŠ¸ ì»¤ë§¨ë“œ
@find [query] [scope]              # ê²€ìƒ‰
@filter [criteria]                 # í•„í„°ë§
@sort [field] [order]              # ì •ë ¬

# ê·¸ë¦¬ê¸° ì»¤ë§¨ë“œ
>draw start [tool] [color] [size]  # ê·¸ë¦¬ê¸° ëª¨ë“œ ì‹œì‘
>draw pen [color] [size]           # íœ ë„êµ¬ë¡œ ì „í™˜
>draw marker [color] [opacity]     # ë§ˆì»¤ ë„êµ¬ë¡œ ì „í™˜  
>draw eraser [size]                # ì§€ìš°ê°œ ë„êµ¬ë¡œ ì „í™˜
>draw clear [selection|all]        # ê·¸ë¦¼ ì§€ìš°ê¸°
>draw save [name]                  # ê·¸ë¦¼ ì €ì¥

# ë©€í‹°ë¯¸ë””ì–´ ì»¤ë§¨ë“œ
!!youtube [url]                    # YouTube ì˜ìƒ ì„ë² ë“œ
!!youtube play|pause|stop          # YouTube ì œì–´
!!audio upload [file]              # ì˜¤ë””ì˜¤ íŒŒì¼ ì—…ë¡œë“œ
!!audio record start|stop          # ì˜¤ë””ì˜¤ ë…¹ìŒ
!!image upload [file]              # ì´ë¯¸ì§€ ì—…ë¡œë“œ
!!image resize [scale] [selection] # ì´ë¯¸ì§€ í¬ê¸° ì¡°ì •

# ëª¨ë°”ì¼ ì „ìš© ì»¤ë§¨ë“œ
>touch enable [gestures]           # í„°ì¹˜ ì œìŠ¤ì²˜ í™œì„±í™”
>keyboard show|hide                # ê°€ìƒ í‚¤ë³´ë“œ ì œì–´
>channel write [channel]           # ì±„ë„ ë©”ì‹œì§€ ì‘ì„± ëª¨ë“œ
>fullscreen toggle                 # ì „ì²´í™”ë©´ í† ê¸€
```

---

## ğŸ—ï¸ êµ¬í˜„ ê³„íš

### Phase 0: ê¸°ë°˜ ì‹œìŠ¤í…œ êµ¬ì¶• (1ì£¼)

**ëª©í‘œ**: ê³ ê¸‰ ì•„í‚¤í…ì²˜ì˜ ê¸°ë°˜ ì‹œìŠ¤í…œ ì„¤ì •

**ì‘ì—… ë‚´ìš©**:
1. **Zustand ìƒíƒœ ê´€ë¦¬ ì„¤ì •**
   ```typescript
   // src/stores/useAppStore.ts
   const useAppStore = create<AppStore>()(
     devtools(persist(immer(/* store implementation */)))
   );
   ```

2. **IndexedDB ì´ˆê¸°í™”**
   ```typescript
   // src/services/database.ts
   import Dexie from 'dexie';
   
   class nntypeDB extends Dexie {
     canvas!: Table<TextObjectType>;
     channels!: Table<Channel>;
     documents!: Table<Document>;
   }
   ```

3. **ë™ê¸°í™” ì„œë¹„ìŠ¤ êµ¬í˜„**
   - SyncService í´ë˜ìŠ¤ (ì˜µí‹°ë¯¸ìŠ¤í‹± ì—…ë°ì´íŠ¸)
   - ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸ ìƒíƒœ ê°ì§€
   - ë™ê¸°í™” í ê´€ë¦¬

4. **ì„±ëŠ¥ ìµœì í™” ê¸°ë°˜**
   - Web Worker ì„¤ì • (ì»¤ë§¨ë“œ íŒŒì‹±ìš©)
   - ê°€ìƒí™” í›… (useVirtualizedList)
   - ë©”ëª¨ì´ì œì´ì…˜ í—¬í¼ í•¨ìˆ˜ë“¤

**ì™„ë£Œ ê¸°ì¤€**:
- [ ] Zustand ìŠ¤í† ì–´ ì´ˆê¸°í™” ë° devtools ì—°ê²°
- [ ] IndexedDB ìŠ¤í‚¤ë§ˆ ì •ì˜ ë° ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œì§
- [ ] ê¸°ë³¸ ë™ê¸°í™” ì„œë¹„ìŠ¤ ë™ì‘ í™•ì¸
- [ ] Web Worker í†µì‹  í…ŒìŠ¤íŠ¸
- [ ] ê¸°ì¡´ ê¸°ëŠ¥ ì •ìƒ ì‘ë™

### Phase 1: ë°ì´í„° êµ¬ì¡° í™•ì¥ (1ì£¼)

**ëª©í‘œ**: ì±„ë„ ì‹œìŠ¤í…œì„ ìœ„í•œ ê¸°ë³¸ ë°ì´í„° íƒ€ì…ê³¼ ì €ì¥ì†Œ ë¡œì§ êµ¬í˜„

**ì‘ì—… ë‚´ìš©**:
1. **`src/types/index.ts` í™•ì¥**
   - TextObjectTypeì— `_metadata` í•„ë“œ ì¶”ê°€ (í•˜ìœ„ í˜¸í™˜)
   - Channel, ChannelMessage, Workspace, Document ì¸í„°í˜ì´ìŠ¤ ì •ì˜

2. **`src/utils/sessionStorage.ts` í™•ì¥**  
   - SessionData í™•ì¥ ë° ìƒˆ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
   - saveChannelData, loadChannelData, addChannelMessage ë“±

3. **`src/utils/migrationUtils.ts` (ì‹ ê·œ)**
   - ê¸°ì¡´ ë°ì´í„° ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ í•¨ìˆ˜
   - ê¸°ë³¸ #Inbox ì±„ë„ ìƒì„±
   - ë²„ì „ í˜¸í™˜ì„± ê²€ì‚¬

**ì™„ë£Œ ê¸°ì¤€**:
- [ ] ëª¨ë“  ìƒˆ ì¸í„°í˜ì´ìŠ¤ ì •ì˜ ì™„ë£Œ
- [ ] ê¸°ì¡´ ë°ì´í„° ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ ë™ì‘
- [ ] ê¸°ë³¸ ì±„ë„ ìë™ ìƒì„± í™•ì¸
- [ ] ëª¨ë“  ê¸°ì¡´ ê¸°ëŠ¥ ì •ìƒ ì‘ë™

### Phase 2: ì±„ë„ íŒ¨ë„ UI (1ì£¼)

**ëª©í‘œ**: ì±„ë„ê³¼ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ” UI íŒ¨ë„ê³¼ ìƒíƒœ ê´€ë¦¬ êµ¬í˜„

**ì‘ì—… ë‚´ìš©**:
1. **`src/components/ChannelPanel.tsx`** - ì‚¬ì´ë“œ íŒ¨ë„ ì»´í¬ë„ŒíŠ¸
2. **`src/components/FloatingPanel.tsx`** - í”Œë¡œíŒ… íŒ¨ë„ ì˜µì…˜
3. **`src/hooks/useChannels.ts`** - ì±„ë„ ìƒíƒœ ê´€ë¦¬
4. **`src/utils/channelUtils.ts`** - `+#`, `-#` íƒœê·¸ íŒŒì‹± ë¡œì§
5. **`src/components/Header.tsx` ìˆ˜ì •** - íŒ¨ë„ í† ê¸€ ë²„íŠ¼

**UI ì„¤ê³„**:
```
â”Œâ”€[Logo]â”€â”€â”€â”€â”€â”€[Toolbar]â”€â”€â”€â”€â”€â”€[Info]â”€â”
â”‚                                   â”‚
â”œâ”€Channel Badgesâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [All:45] [#Inbox:12] [#work:8] ... â”‚ 
â”œâ”€[Side Panel]â”€â”¬â”€[Canvas Area]â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€Messagesâ”€â”€â” â”‚                   â”‚
â”‚ â”‚ 15:30     â”‚ â”‚  â—‹ Text Object 1  â”‚
â”‚ â”‚ Hello     â”‚ â”‚     â—‹ Text Object â”‚
â”‚ â”‚ world     â”‚ â”‚                   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì™„ë£Œ ê¸°ì¤€**:
- [ ] ë¡œê³  í´ë¦­ìœ¼ë¡œ íŒ¨ë„ í† ê¸€
- [ ] ì±„ë„ ëª©ë¡ í‘œì‹œ
- [ ] ë©”ì‹œì§€ íƒ€ì„ë¼ì¸ í‘œì‹œ  
- [ ] +#, -# íƒœê¹… ì‹œìŠ¤í…œ ì‘ë™

### Phase 3: ìº”ë²„ìŠ¤-ì±„ë„ ì—°ë™ (0.5-1ì£¼)

**ëª©í‘œ**: ìº”ë²„ìŠ¤ í…ìŠ¤íŠ¸ ê°ì²´ì™€ ì±„ë„ ì‹œìŠ¤í…œ ì™„ì „ ì—°ê²°

**ì‘ì—… ë‚´ìš©**:
1. InfiniteTypewriterCanvasì™€ useChannels í›… ì—°ë™
2. í…ìŠ¤íŠ¸ ìƒì„±/ìˆ˜ì • ì‹œ ChannelMessage ìë™ ìƒì„±
3. ë©”ì‹œì§€ í´ë¦­ â†’ ìº”ë²„ìŠ¤ ê°ì²´ í¬ì»¤ì‹± ê¸°ëŠ¥
4. ì‹¤ì‹œê°„ ì–‘ë°©í–¥ ë™ê¸°í™”

**ì™„ë£Œ ê¸°ì¤€**:
- [ ] ìº”ë²„ìŠ¤ í…ìŠ¤íŠ¸ â†’ ì±„ë„ ë©”ì‹œì§€ ìë™ ì¶”ê°€
- [ ] ë©”ì‹œì§€ í´ë¦­ â†’ í…ìŠ¤íŠ¸ ê°ì²´ ê°•ì¡°
- [ ] ë¶€ë“œëŸ¬ìš´ í¬ì»¤ìŠ¤ ì• ë‹ˆë©”ì´ì…˜
- [ ] ì‹¤ì‹œê°„ ì–‘ë°©í–¥ ë™ê¸°í™”

### Phase 4: ë¬¸ì„œ ì‹œìŠ¤í…œ & ë°±ë§í¬ (1.5-2ì£¼)

**ëª©í‘œ**: íƒ€ì„ë¼ì¸ ê¸°ë°˜ ë¬¸ì„œ ìƒì„± ë° ë“œë˜ê·¸&ë“œë¡­ í¸ì§‘ ì‹œìŠ¤í…œ

**ì‘ì—… ë‚´ìš©**:
1. **`src/components/DocumentView.tsx`** - ë“€ì–¼ íŒ¨ë„ ë¬¸ì„œ í¸ì§‘
2. **`src/components/DocumentEditor.tsx`** - ë¸”ë¡ ê¸°ë°˜ í¸ì§‘ê¸°
3. **`src/hooks/useDocumentEditor.ts`** - ë¬¸ì„œ ìƒíƒœ ê´€ë¦¬
4. **`src/hooks/useBacklinks.ts`** - ë°±ë§í¬ ì‹œìŠ¤í…œ
5. **`src/utils/documentUtils.ts`** - ë¬¸ì„œ ê´€ë ¨ ìœ í‹¸ë¦¬í‹°

**ë¬¸ì„œ ìƒì„± UI**:
```
â”Œâ”€[Create Document]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€Message Historyâ”€â”¬â”€Document Editorâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â˜‘15:30 APIì™„ë£Œ  â”‚ # Work Session (2024-01-15)  â”‚ â”‚
â”‚ â”‚ â˜‘15:25 DBì—°ê²°   â”‚                              â”‚ â”‚
â”‚ â”‚ â˜‘15:20 ìš”êµ¬ì‚¬í•­ â”‚ ## ì™„ë£Œëœ ì‘ì—…               â”‚ â”‚
â”‚ â”‚ â–¡15:15 í”„ë¡œí† íƒ€ì…â”‚ [Drop Zone: Drag blocks here]â”‚ â”‚
â”‚ â”‚                â”‚                              â”‚ â”‚
â”‚ â”‚ [Drag Blocks]  â”‚ ## ì§„í–‰ ì¤‘ì¸ ì‘ì—…            â”‚ â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ [Drop Zone: Active tasks]    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [ğŸ’¾ Save] [ğŸ“¤ Export] [ğŸ”— Backlinks]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°±ë§í¬ ìë™ ìƒì„±**:
- ë“œë˜ê·¸&ë“œë¡­ ì‹œ TextObject â†” Document ë°±ë§í¬ ìë™ ìƒì„±
- ìº”ë²„ìŠ¤ì—ì„œ ì—°ê´€ ë¬¸ì„œ ëª©ë¡ í‘œì‹œ
- ë¬¸ì„œì—ì„œ ì›ë³¸ ìœ„ì¹˜ë¡œ ì í”„ ê¸°ëŠ¥

**ì™„ë£Œ ê¸°ì¤€**:
- [ ] íƒ€ì„ë¼ì¸ ì„ íƒ ê¸°ë°˜ ë¬¸ì„œ ìƒì„±
- [ ] ë“œë˜ê·¸&ë“œë¡­ ë¸”ë¡ í¸ì§‘ ì‹œìŠ¤í…œ  
- [ ] ìë™ ë°±ë§í¬ ìƒì„± ë° ê´€ë¦¬
- [ ] ë§ˆí¬ë‹¤ìš´/PDF ë‚´ë³´ë‚´ê¸°
- [ ] ë¬¸ì„œ-ìº”ë²„ìŠ¤ ì–‘ë°©í–¥ ë„¤ë¹„ê²Œì´ì…˜

### Phase 5: ë‹¤ì¤‘ ì‘ì—…ê³µê°„ ì‹œìŠ¤í…œ (2-3ì£¼) - ì¤‘ê¸° ëª©í‘œ

**ëª©í‘œ**: ì—¬ëŸ¬ ìº”ë²„ìŠ¤/ì‘ì—…ê³µê°„ ê´€ë¦¬ ì‹œìŠ¤í…œ

**ì‘ì—… ë‚´ìš©**:
1. **`src/components/WorkspaceSelector.tsx`** - ì‘ì—…ê³µê°„ ê´€ë¦¬ UI
2. **`src/hooks/useWorkspaces.ts`** - ì‘ì—…ê³µê°„ ìƒíƒœ ê´€ë¦¬  
3. **`src/utils/workspaceUtils.ts`** - ì‘ì—…ê³µê°„ë³„ ë°ì´í„° ê²©ë¦¬
4. ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì‘ì—…ê³µê°„ ì»¨í…ìŠ¤íŠ¸ í†µí•©

**ì™„ë£Œ ê¸°ì¤€**:
- [ ] ë‹¤ì¤‘ ì‘ì—…ê³µê°„ ìƒì„±/ê´€ë¦¬/ì „í™˜
- [ ] ì‘ì—…ê³µê°„ë³„ ë°ì´í„° ì™„ì „ ê²©ë¦¬
- [ ] ì‘ì—…ê³µê°„ë³„ ë°±ì—…/ë³µì› ì‹œìŠ¤í…œ

### Phase 6: í†µí•© ì»¤ë§¨ë“œ ì‹œìŠ¤í…œ (2-3ì£¼) - ì¥ê¸° ëª©í‘œ

**ëª©í‘œ**: íƒ€ì´í”„ë¼ì´í„° ê¸°ë°˜ ëª¨ë“  ê¸°ëŠ¥ ì œì–´ ì‹œìŠ¤í…œ

**ì‘ì—… ë‚´ìš©**:
1. **`src/components/CommandInput.tsx`** - í™•ì¥ëœ íƒ€ì´í”„ë¼ì´í„°
2. **`src/hooks/useCommandSystem.ts`** - ì»¤ë§¨ë“œ íŒŒì‹± ì—”ì§„
3. **`src/components/CommandAutocomplete.tsx`** - ìë™ì™„ì„± ì‹œìŠ¤í…œ
4. **`src/utils/commandParser.ts`** - ì»¤ë§¨ë“œ íŒŒì‹± ë¡œì§
5. ëª¨ë“  ê¸°ëŠ¥ì˜ ì»¤ë§¨ë“œ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„

**MCP í†µí•© ë¡œë“œë§µ**:
- **Phase A**: ìì—°ì–´ â†’ ì»¤ë§¨ë“œ ë³€í™˜ (MCP Sequential)
- **Phase B**: ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ ìë™ì™„ì„± (MCP Context7)  
- **Phase C**: ì›Œí¬í”Œë¡œìš° ìë™í™” (MCP Magic + Sequential)
- **Phase D**: AI ì–´ì‹œìŠ¤í„´íŠ¸ ëª¨ë“œ (ì „ì²´ MCP í†µí•©)

**ì™„ë£Œ ê¸°ì¤€**:
- [ ] ëª¨ë“  ê¸°ëŠ¥ì˜ ì»¤ë§¨ë“œ ì¸í„°í˜ì´ìŠ¤
- [ ] ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ ìë™ì™„ì„±
- [ ] ì‹¤ì‹œê°„ ì»¤ë§¨ë“œ ì œì•ˆ ë° ì˜¤ë¥˜ ë³µêµ¬
- [ ] MCP í†µí•©ì„ í†µí•œ ìì—°ì–´ ì»¤ë§¨ë“œ ì§€ì›

---

## ğŸ›ï¸ ê³ ê¸‰ ì•„í‚¤í…ì²˜ ì„¤ê³„

### ìƒíƒœ ê´€ë¦¬: Zustand ì¤‘ì•™í™”

```typescript
// ì¤‘ì•™ ìƒíƒœ ê´€ë¦¬ ìŠ¤í† ì–´
interface AppStore {
  // ìº”ë²„ìŠ¤ ìƒíƒœ
  canvasObjects: Map<number, CanvasObject>; // TextObject | DrawingObject | MediaObject
  selectedObjects: Set<number>;
  focusedObjectId: number | null;
  canvasViewport: { x: number; y: number; zoom: number; };
  currentMode: CanvasMode;
  
  // ì±„ë„ ìƒíƒœ
  channels: Map<string, Channel>;
  activeChannelId: string | null;
  channelMessages: Map<string, ChannelMessage[]>;
  unreadCounts: Map<string, number>;
  
  // ë¬¸ì„œ & ì‘ì—…ê³µê°„ ìƒíƒœ
  documents: Map<string, Document>;
  workspaces: Map<string, Workspace>;
  currentWorkspaceId: string;
  
  // ê·¸ë¦¬ê¸° ìƒíƒœ
  drawingState: {
    isDrawing: boolean;
    currentTool: 'pen' | 'marker' | 'eraser' | 'highlighter';
    currentColor: string;
    currentWidth: number;
    currentOpacity: number;
    activeDrawingId: string | null;
  };
  
  // ë©€í‹°ë¯¸ë””ì–´ ìƒíƒœ
  mediaState: {
    floatingMedia: FloatingMediaState;
    audioRecordings: Map<string, AudioRecording>;
    currentRecording: string | null;
  };
  
  // í„°ì¹˜/ëª¨ë°”ì¼ ìƒíƒœ
  touchState: TouchState;
  mobileChannelWriter: MobileChannelWriter;
  
  // ì•¡ì…˜ë“¤ (canvas, channel, document, workspace, drawing, media, touch)
  actions: { 
    canvas: CanvasActions;
    channel: ChannelActions;
    document: DocumentActions;
    workspace: WorkspaceActions;
    drawing: DrawingActions;
    media: MediaActions;
    touch: TouchActions;
  };
}
```

### ì‹¤ì‹œê°„ ë™ê¸°í™”: ì˜µí‹°ë¯¸ìŠ¤í‹± ì—…ë°ì´íŠ¸

```typescript
// IndexedDB + ì˜µí‹°ë¯¸ìŠ¤í‹± ì—…ë°ì´íŠ¸ íŒ¨í„´
class SyncService {
  async saveWithOptimisticUpdate<T>(
    data: T,
    optimisticUpdate: () => void,
    rollback: () => void
  ) {
    // 1. ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸
    optimisticUpdate();
    
    try {
      // 2. IndexedDB ì €ì¥
      await this.saveToIndexedDB(data);
      
      // 3. ì˜¨ë¼ì¸ì´ë©´ ì„œë²„ ë™ê¸°í™”, ì˜¤í”„ë¼ì¸ì´ë©´ íì‰
      this.isOnline ? await this.syncToServer(data) : this.queueForSync(data);
    } catch (error) {
      rollback(); // ì‹¤íŒ¨ì‹œ ë¡¤ë°±
    }
  }
}
```

### ì„±ëŠ¥ ìµœì í™” ì „ëµ

**ê°€ìƒí™” & ë©”ëª¨ì´ì œì´ì…˜**:
- `@tanstack/react-virtual`ë¡œ ë©”ì‹œì§€ ëª©ë¡ ê°€ìƒí™”
- ì›¹ ì›Œì»¤ì—ì„œ CPU ì§‘ì•½ì ì¸ ì»¤ë§¨ë“œ íŒŒì‹± ì²˜ë¦¬
- React.memoì™€ useMemoë¡œ ë¶ˆí•„ìš”í•œ ì¬ë Œë”ë§ ë°©ì§€

**ì˜¤í”„ë¼ì¸ ìš°ì„  ì „ëµ**:
- Service Workerë¡œ ìºì‹œ ìš°ì„ , ë„¤íŠ¸ì›Œí¬ í´ë°±
- ë°±ê·¸ë¼ìš´ë“œ ë™ê¸°í™”ë¡œ ì—°ê²° ë³µêµ¬ì‹œ ìë™ ë™ê¸°í™”
- Progressive Web Appìœ¼ë¡œ ë„¤ì´í‹°ë¸Œ ì•± ê²½í—˜

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ & êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

### í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ
- **í”„ë¡ íŠ¸ì—”ë“œ**: React 18 + TypeScript + Vite
- **ìƒíƒœ ê´€ë¦¬**: Zustand (devtools, persist, immer)
- **UI**: Tailwind CSS + Lucide Icons + Headless UI
- **ìº”ë²„ìŠ¤**: HTML5 Canvas API (HiDPI ì§€ì›)
- **ë°ì´í„°ë² ì´ìŠ¤**: IndexedDB (Dexie.js)
- **ë™ê¸°í™”**: Service Worker + Background Sync

### ìƒˆë¡œ ë„ì…
- **ê°€ìƒí™”**: @tanstack/react-virtual (ë©”ì‹œì§€ ëª©ë¡)
- **ì„±ëŠ¥**: Web Workers (ì»¤ë§¨ë“œ íŒŒì‹±)
- **ì˜¤í”„ë¼ì¸**: Service Worker + IndexedDB
- **í…ŒìŠ¤íŒ…**: Vitest + Playwright + Testing Library
- **ë³´ì•ˆ**: Crypto-JS (ë°ì´í„° ì•”í˜¸í™”)

### ì„±ëŠ¥ ìµœì í™”
- **ê°€ìƒ ìŠ¤í¬ë¡¤ë§**: ëŒ€ìš©ëŸ‰ ë©”ì‹œì§€ ëª©ë¡ (10,000+ ì•„ì´í…œ)
- **ë©”ëª¨ì´ì œì´ì…˜**: React.memo, useMemo, useCallback ì ê·¹ í™œìš©
- **ì½”ë“œ ë¶„í• **: React.lazy + Suspenseë¡œ ì§€ì—° ë¡œë”©
- **ì›¹ ì›Œì»¤**: CPU ì§‘ì•½ì  ì‘ì—… ì˜¤í”„ë¡œë“œ
- **ë””ë°”ìš´ì‹±**: ê²€ìƒ‰, ì»¤ë§¨ë“œ ì…ë ¥ ìµœì í™”

---

---

## ğŸ›¡ï¸ ë³´ì•ˆ & ì ‘ê·¼ì„±

### ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

**ë°ì´í„° ë³´í˜¸**:
```typescript
// ë¯¼ê°í•œ ë°ì´í„° ì•”í˜¸í™”
class SecurityManager {
  encryptSensitiveData(data: any): string {
    return encrypt(JSON.stringify(data), this.userKey).toString();
  }
  
  validateCommand(command: string): boolean {
    // XSS ë°©ì§€ íŒ¨í„´ ê²€ì‚¬
    const dangerousPatterns = [/<script/i, /javascript:/i, /on\w+\s*=/i];
    return !dangerousPatterns.some(pattern => pattern.test(command));
  }
}
```

**CSP í—¤ë”**: `default-src 'self'; script-src 'self' 'unsafe-inline'`

### ì ‘ê·¼ì„± (WCAG 2.1 AA)

**í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜**:
- Tab/Shift+Tab: íŒ¨ë„ ê°„ ì´ë™
- Arrow Keys: ì±„ë„/ë©”ì‹œì§€ ëª©ë¡ ë‚´ ì´ë™
- Enter: ì„ íƒ, Escape: ì·¨ì†Œ
- ì»¤ë§¨ë“œ ì…ë ¥ì°½: ì–¸ì œë‚˜ ì ‘ê·¼ ê°€ëŠ¥

**ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›**:
```typescript
<div
  role="navigation"
  aria-label="ì±„ë„ ëª©ë¡"
  aria-live="polite"
>
  <ul role="list">
    {channels.map(channel => (
      <li
        aria-label={`${channel.name}, ${channel.messageCount}ê°œ ë©”ì‹œì§€`}
        aria-selected={channel.id === activeChannelId}
      >
        {channel.name}
      </li>
    ))}
  </ul>
</div>
```

**ê³ ëŒ€ë¹„ ëª¨ë“œ**: ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆì—ì„œ 4.5:1 ëª…ì•”ë¹„ ë³´ì¥

---

## ğŸ“… ì¼ì • & ë§ˆì¼ìŠ¤í†¤

| Phase | ê¸°ê°„ | í•µì‹¬ ê¸°ëŠ¥ | ì™„ë£Œ ì¡°ê±´ |
|-------|------|----------|----------|
| **Phase 0** | 1ì£¼ | ê¸°ë°˜ ì‹œìŠ¤í…œ | Zustand + IndexedDB + ë™ê¸°í™” |
| **Phase 1** | 1ì£¼ | ë°ì´í„° êµ¬ì¡° í™•ì¥ | ë§ˆì´ê·¸ë ˆì´ì…˜ + ê¸°ë³¸ ì±„ë„ |
| **Phase 2** | 1ì£¼ | ì±„ë„ íŒ¨ë„ UI | íŒ¨ë„ í† ê¸€ + íƒœê¹… ì‹œìŠ¤í…œ |
| **Phase 3** | 0.5-1ì£¼ | ìº”ë²„ìŠ¤-ì±„ë„ ì—°ë™ | ì‹¤ì‹œê°„ ë™ê¸°í™” |
| **Phase 4** | 1.5-2ì£¼ | ë¬¸ì„œ + ë°±ë§í¬ | ë“œë˜ê·¸&ë“œë¡­ + ë‚´ë³´ë‚´ê¸° |
| **Phase 5** | 2-3ì£¼ | ë‹¤ì¤‘ ì‘ì—…ê³µê°„ | ì‘ì—…ê³µê°„ ê²©ë¦¬ |
| **Phase 6** | 2-3ì£¼ | ì»¤ë§¨ë“œ ì‹œìŠ¤í…œ | ì „ì²´ ê¸°ëŠ¥ ì»¤ë§¨ë“œí™” |
| **Phase 7** | 2ì£¼ | ìµœì í™” & í™•ì¥ | ì„±ëŠ¥ + í”ŒëŸ¬ê·¸ì¸ + PWA |
| **Phase 8** | 1ì£¼ | í’ˆì§ˆ ë³´ì¦ | í…ŒìŠ¤íŠ¸ + ë³´ì•ˆ + ì‚¬ìš©ì„± |
| **Phase 9** | 2-3ì£¼ | ë©€í‹°ë¯¸ë””ì–´ & ê·¸ë¦¬ê¸° | ê·¸ë¦¬ê¸° ë„êµ¬ + ì˜¤ë””ì˜¤/ì˜ìƒ + í„°ì¹˜UI |

**ì´ ì˜ˆìƒ ê¸°ê°„**: 13-18ì£¼ (ì ì§„ì  ë°°í¬)

---

## ğŸ¯ í”„ë¡œë•ì…˜ ë°°í¬ ì „ëµ

### ì ì§„ì  ë¡¤ì•„ì›ƒ
1. **Phase 0-1**: ê¸°ë°˜ ì‹œìŠ¤í…œ (ë‚´ë¶€ í…ŒìŠ¤íŠ¸)
2. **Phase 2-3**: ê¸°ë³¸ ì±„ë„ ì‹œìŠ¤í…œ (ì•ŒíŒŒ)
3. **Phase 4**: ë¬¸ì„œ ì‹œìŠ¤í…œ ì¶”ê°€ (ë² íƒ€)  
4. **Phase 5-6**: ê³ ê¸‰ ê¸°ëŠ¥ (RC)
5. **Phase 7-8**: ìµœì í™” ë° í’ˆì§ˆë³´ì¦ (ì •ì‹ ë¦´ë¦¬ìŠ¤)

### í’ˆì§ˆ ë³´ì¦ ê°•í™”
**ìë™í™”ëœ í…ŒìŠ¤íŒ…**:
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸: 80% ì»¤ë²„ë¦¬ì§€ (Vitest)
- í†µí•© í…ŒìŠ¤íŠ¸: í•µì‹¬ ì›Œí¬í”Œë¡œìš° (Testing Library)
- E2E í…ŒìŠ¤íŠ¸: ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ (Playwright)
- ì„±ëŠ¥ í…ŒìŠ¤íŠ¸: Lighthouse CI (90+ ì ìˆ˜)

**CI/CD íŒŒì´í”„ë¼ì¸**:
```yaml
# ìë™í™”ëœ í’ˆì§ˆ ê²€ì‚¬
- Linting (ESLint) + Type Checking (TSC)
- Unit Tests (Vitest) + Integration Tests
- Bundle Size Analysis (< 500KB initial)
- E2E Tests (Playwright) + Visual Regression
- Security Audit (npm audit + Snyk)
```

### ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí‚¹
**ëª©í‘œ ì§€í‘œ**:
- ì´ˆê¸° ë¡œë”©: < 3ì´ˆ (3G ë„¤íŠ¸ì›Œí¬)
- First Contentful Paint: < 1.8ì´ˆ
- ë©”ì‹œì§€ 10,000ê°œ: ê°€ìƒí™”ë¡œ 60fps ìœ ì§€
- ì˜¤í”„ë¼ì¸ ëª¨ë“œ: < 500ms ìºì‹œ ì‘ë‹µ
- PWA ì„¤ì¹˜: < 2MB ë‹¤ìš´ë¡œë“œ

### ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ & ë³´ì•ˆ
**í•˜ìœ„ í˜¸í™˜ì„± ë³´ì¥**:
- ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ (v1.0 â†’ v2.0)
- ì ì§„ì  ì—…ê·¸ë ˆì´ë“œ (ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬)
- ì‹¤íŒ¨ì‹œ ì•ˆì „í•œ ë¡¤ë°±
- ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦

**ë³´ì•ˆ ê°•í™”**:
- CSP í—¤ë” ì ìš©
- ì…ë ¥ ë°ì´í„° ê²€ì¦
- ë¯¼ê° ë°ì´í„° ì•”í˜¸í™” (Crypto-JS)
- ì •ê¸° ë³´ì•ˆ ê°ì‚¬

---

## ğŸ“ˆ Phase 7-8 ìƒì„¸ ê³„íš

### Phase 7: ìµœì í™” & í™•ì¥ (2ì£¼)

**ì„±ëŠ¥ ìµœì í™”**:
- ê°€ìƒí™” êµ¬í˜„ (`@tanstack/react-virtual`)
- ì›¹ ì›Œì»¤ í™œìš© (ì»¤ë§¨ë“œ íŒŒì‹±, ê²€ìƒ‰)
- ì½”ë“œ ë¶„í•  (React.lazy + Suspense)
- Service Worker (ì˜¤í”„ë¼ì¸ ìš°ì„ )

**í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ**:
```typescript
interface Plugin {
  id: string;
  commands?: CommandDefinition[];
  hooks?: PluginHooks;
  ui?: PluginUIComponents;
}

// í”ŒëŸ¬ê·¸ì¸ ì˜ˆì‹œ
const markdownExportPlugin: Plugin = {
  id: 'markdown-export',
  commands: [{
    prefix: '!!md-export',
    handler: async (args) => { /* export logic */ }
  }]
};
```

**PWA ê¸°ëŠ¥**:
- ì˜¤í”„ë¼ì¸ ì§€ì›
- ë°±ê·¸ë¼ìš´ë“œ ë™ê¸°í™”
- í‘¸ì‹œ ì•Œë¦¼ (ì„ íƒì )
- ë„¤ì´í‹°ë¸Œ ì•± ê²½í—˜

### Phase 8: í’ˆì§ˆ ë³´ì¦ (1ì£¼)

**ì „ì²´ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**:
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 80% ì´ìƒ
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì£¼ìš” ì›Œí¬í”Œë¡œìš° 100%
- [ ] E2E í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ ì™„ë£Œ
- [ ] ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí‚¹ ëª©í‘œì¹˜ ë‹¬ì„±

**ë³´ì•ˆ & ì ‘ê·¼ì„±**:
- [ ] ë³´ì•ˆ ê°ì‚¬ í†µê³¼ (Snyk + ìˆ˜ë™ ê²€í† )
- [ ] WCAG 2.1 AA ì¤€ìˆ˜ í™•ì¸
- [ ] í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ ì™„ë£Œ

**ì‚¬ìš©ì„± í…ŒìŠ¤íŠ¸**:
- [ ] ì‹¤ì œ ì‚¬ìš©ì 5ëª… ì´ìƒ í…ŒìŠ¤íŠ¸
- [ ] í”¼ë“œë°± ë°˜ì˜ ë° ê°œì„ 
- [ ] ë¬¸ì„œí™” ì™„ë£Œ (ì‚¬ìš©ì ê°€ì´ë“œ)

### Phase 9: ë©€í‹°ë¯¸ë””ì–´ & ê·¸ë¦¬ê¸° ì‹œìŠ¤í…œ (2-3ì£¼)

**ê·¸ë¦¬ê¸° ì‹œìŠ¤í…œ êµ¬í˜„**:
- [ ] **DrawingObjectType** ë° ê´€ë ¨ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
- [ ] **ìº”ë²„ìŠ¤ ê·¸ë¦¬ê¸° ì—”ì§„**: Stroke ë Œë”ë§, ì••ë ¥ ê°ì§€ ì§€ì›
- [ ] **ê·¸ë¦¬ê¸° ë„êµ¬**: íœ, ë§ˆì»¤, ì§€ìš°ê°œ, í•˜ì´ë¼ì´í„°
- [ ] **iPad/Apple Pencil ìµœì í™”**: ì••ë ¥ ê°ì§€, í‹¸íŠ¸ ê°ë„, íŒœ ë¦¬ì ì…˜
- [ ] **ê·¸ë¦¬ê¸° ëª¨ë“œ UI**: ë„êµ¬ íŒ”ë ˆíŠ¸, ìƒ‰ìƒ ì„ íƒê¸°, í¬ê¸° ì¡°ì ˆ

**ë©€í‹°ë¯¸ë””ì–´ í†µí•©**:
- [ ] **YouTube ì„ë² ë“œ**: iframe í”Œë ˆì´ì–´, í”Œë¡œíŒ… ì»¨íŠ¸ë¡¤
- [ ] **ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ**: ì—…ë¡œë“œ, ì¬ìƒ, ë…¹ìŒ (ë§ˆì´í¬ + ì‹œìŠ¤í…œ ì˜¤ë””ì˜¤)
- [ ] **ì´ë¯¸ì§€ ì²˜ë¦¬**: ì—…ë¡œë“œ, í¬ê¸° ì¡°ì •, ë“œë˜ê·¸&ë“œë¡­
- [ ] **í”Œë¡œíŒ… ë¯¸ë””ì–´ í”Œë ˆì´ì–´**: íƒ€ì´í”„ë¼ì´í„° í•˜ë‹¨ ê³ ì •

**ëª¨ë°”ì¼/í„°ì¹˜ ìµœì í™”**:
- [ ] **í„°ì¹˜ ì œìŠ¤ì²˜**: íŒ¬, í•€ì¹˜ ì¤Œ, ë‘ ì†ê°€ë½ ìŠ¤í¬ë¡¤
- [ ] **ê°€ìƒ í‚¤ë³´ë“œ ì²˜ë¦¬**: ë·°í¬íŠ¸ ì¡°ì •, í¬ì»¤ìŠ¤ ê´€ë¦¬
- [ ] **ëª¨ë°”ì¼ ì±„ë„ ì‘ì„± UI**: ì „ì²´í™”ë©´ í¸ì§‘ ëª¨ë“œ
- [ ] **iPad ë¯¸ë‹ˆ íŠ¹í™”**: ì ì ˆí•œ UI í¬ê¸°, í„°ì¹˜ ì˜ì—­

**ë°ìŠ¤í¬í†± íŠ¹í™” ê¸°ëŠ¥**:
- [ ] **ì‹œìŠ¤í…œ ì˜¤ë””ì˜¤ ìº¡ì²˜** (macOS): Audio Hijack API ë˜ëŠ” CoreAudio
- [ ] **ê³ ê¸‰ ê·¸ë¦¬ê¸° ë„êµ¬**: ë ˆì´ì–´, ë¸”ë Œë”© ëª¨ë“œ
- [ ] **í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤**: ê·¸ë¦¬ê¸° ë„êµ¬ ë¹ ë¥¸ ì „í™˜
- [ ] **ì„±ëŠ¥ ìµœì í™”**: WebGL ê¸°ë°˜ ë Œë”ë§ (ì„ íƒì )

---

*ë³¸ ê³„íšì„œëŠ” nntype ì±„ë„ ì‹œìŠ¤í…œì˜ ì™„ì „í•œ êµ¬í˜„ ë¡œë“œë§µì…ë‹ˆë‹¤. ê° PhaseëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‘ë™í•˜ë©°, í•„ìš”ì— ë”°ë¼ ìš°ì„ ìˆœìœ„ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.*

**ğŸ”„ ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-08-06  
**ğŸ“‹ ìƒíƒœ**: ì„¤ê³„ ì™„ë£Œ (ê·¸ë¦¬ê¸°/ë©€í‹°ë¯¸ë””ì–´/í„°ì¹˜ UI í†µí•©), Phase 1 êµ¬í˜„ ì¤€ë¹„ ì¤‘

### ì£¼ìš” ê°œì„  ì‚¬í•­ (ìµœì¢…)
- âœ… **ê·¸ë¦¬ê¸° ì‹œìŠ¤í…œ**: DrawingObjectType + ì••ë ¥ ê°ì§€ + 4ê°€ì§€ ë„êµ¬
- âœ… **ë©€í‹°ë¯¸ë””ì–´ í†µí•©**: YouTube í”Œë¡œíŒ… + ì˜¤ë””ì˜¤ ë…¹ìŒ/ì¬ìƒ + ì´ë¯¸ì§€ í¸ì§‘  
- âœ… **í„°ì¹˜ ìµœì í™”**: iPad/ëª¨ë°”ì¼ ì œìŠ¤ì²˜ + ê°€ìƒ í‚¤ë³´ë“œ + Apple Pencil ì§€ì›
- âœ… **ëª¨ë°”ì¼ íŠ¹í™”**: ì±„ë„ ë©”ì‹œì§€ ì‘ì„± ì „ìš© UI + ì „ì²´í™”ë©´ í¸ì§‘ ëª¨ë“œ
- âœ… **ë°ìŠ¤í¬í†± ê³ ê¸‰**: macOS ì‹œìŠ¤í…œ ì˜¤ë””ì˜¤ ìº¡ì²˜ + WebGL ë Œë”ë§ ìµœì í™”
